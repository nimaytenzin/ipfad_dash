<div class="text-lg" style="max-width: 80vw">
    <p class="text-right font-semibold text-xl mb-3">
        Status:
        <span style="text-transform: capitalize">{{
            lease.leaseStatus === "ACTIVE" ? "Active" : "Expired"
        }}</span>
    </p>
    <div
        class="flex justify-content-between mb-3 font-semibold text-bluegray-700"
    >
        <div>
            <p>Purpose: {{ lease.use }}</p>
            <p>Lease Duration:{{ lease.leaseDurationMonths }} Months</p>
        </div>
        <div class="text-right">
            <p>Start Date: {{ parseReadableDate(lease.leaseStartDate) }}</p>
            <p>Ending Date: {{ parseReadableDate(lease.leaseEndDate) }}</p>
        </div>
    </div>

    <p-tabView>
        <p-tabPanel header="Property Leased">
            <div id="unit and building detail" class="text-lg">
                <div class="flex gap-6 justify-content-between my-3">
                    <div>
                        <p class="text-2xl font-semibold">
                            {{ lease.unit?.floorLevel }}-{{
                                lease.unit?.unitNumber
                            }}
                        </p>
                        <p>
                            <span style="text-transform: capitalize">{{
                                parseFloorLevel(lease.unit?.floorLevel)
                            }}</span>
                        </p>
                        <p>BPC Consumer ID: {{ lease.unit.powerConsumerId }}</p>
                    </div>
                    <div
                        class="flex gap-3 text-sm my-2"
                        style="flex-wrap: wrap"
                    >
                        <div class="flex align-items-end">
                            <img
                                src="assets/icons/bed.svg"
                                style="height: 1.5rem"
                            />
                            <p>{{ lease.unit?.bedroomCount }} Beds</p>
                        </div>
                        <div class="flex align-items-end">
                            <img
                                src="assets/icons/toilet.svg"
                                style="height: 1.5rem"
                            />
                            <p>{{ lease.unit?.toiletCount }} Baths</p>
                        </div>
                        <div class="flex align-items-end">
                            <img
                                src="assets/icons/balcony.svg"
                                style="height: 1.5rem"
                                alt="Icon"
                            />
                            <p>{{ lease.unit?.balconyCount }} Balconies</p>
                        </div>
                        <div
                            class="flex align-items-end"
                            *ngIf="lease.unit.floorArea"
                        >
                            <img
                                src="assets/icons/floorArea.svg"
                                style="height: 1.5rem"
                            />
                            <p>{{ lease.unit?.floorArea }} SqM</p>
                        </div>
                    </div>
                </div>
                <p-divider type="dashed" />
                <p class="font-semibold mb-1">Building Details</p>
                <div>
                    <p>Building Name: {{ lease.building?.name }}</p>
                    <p class="m-0 p-0">
                        Building Address: {{ lease.building?.buildingNumber }}
                        {{ lease.building?.streetName }}
                        {{ lease.building?.administrativeZone?.name }}
                        {{ lease.building?.subadministrativeZone?.name }}
                        {{ lease.building?.landmark }}
                    </p>
                </div>
                <p-divider type="dashed" />
                <p class="font-semibold mb-1">Building Owner</p>
                <div>
                    <p>
                        Name: {{ lease.owner?.nameEnglish }}/
                        {{ lease.owner?.nameDzongkha }}
                    </p>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel header="Lease Conditions">
            <div class="text-lg">
                <div>
                    <p class="text-lg font-semibold my-2">Lease Terms</p>
                    <p>
                        - Rent has to be paid before day
                        <strong> {{ lease.paymentDueDay }}</strong> of the next
                        month.
                    </p>
                    <p>
                        - The Owner will issue a notice at least
                        <strong>
                            {{ lease.rentIncreaseNoticePeriod }} months</strong
                        >
                        in advance before increasing the rent, in accordance
                        with the Tenancy Act of 2015.
                    </p>
                    <p>
                        - The Tenant is
                        <strong>{{
                            lease.tenantSubletAuthority
                                ? "permitted"
                                : "not permitted"
                        }}</strong>
                        to sublet the unit.
                    </p>

                    <p>
                        - If a tenant wishes to vacate the property or terminate
                        the agreement, they must give a notice at least
                        <strong>{{ lease.vacationNoticePeriod }} months</strong>
                        in advance.
                    </p>
                    <p>
                        - Similarly, the owner will issue a notice at least
                        <strong>{{ lease.evictionNoticePeriod }} months</strong>
                        months in advance before evicting a tenant or
                        terminating the lease agreement.
                    </p>

                    <p class="text-lg font-semibold my-2">
                        Building and unit rules
                    </p>

                    <p *ngFor="let item of lease.leaseRules">
                        - {{ item.particular }}
                        <small>({{ item.origin }} rule)</small>
                    </p>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel header="Lease Charges">
            <div class="text-lg">
                <p>Security Deposit: Nu. {{ lease.securityDepositAmount }}</p>
                <p class="text-lg font-semibold my-2">Lease Charges</p>
                <p>Rent: Nu. {{ lease.rent }}</p>
                <p *ngFor="let item of lease.leaseSurcharges">
                    {{ item.particular }}: Nu. {{ item.amount }}
                </p>
            </div>
            <p class="text-xl mt-2 font-semibold text-right">
                Total Monthly Payable: Nu. {{ computeMonthlyPayable(lease) }}
            </p>
        </p-tabPanel>
    </p-tabView>
</div>
