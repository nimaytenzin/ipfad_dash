<div>
    <div *ngFor="let thram of thrams" class="mb-4">
        <p>
            Thram no: <strong> {{ thram.thramNo }} </strong>
        </p>
        <p>
            Ownership Typ: <strong> {{ thram.ownershipType }} </strong>
        </p>
        <p>Sub Administrative Zone: {{ thram.subAdministrativeZone.name }}</p>
        <p>Administrative Zone: {{ thram.administrativeZone.name }}</p>
        <p>Dzongkhag: {{ thram.dzongkhag.name }}</p>
        <div #plotDetails class="mt-3">
            <p class="font-semibold text-lg">Plot Details</p>

            <p-table [value]="thram.plots" styleClass="p-datatable-striped">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Plot Id</th>
                        <th>Plot Category</th>
                        <th>Net Area</th>
                        <th>Lap Name</th>
                        <th>Precinct Name</th>
                        <th>Buildings</th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-plot>
                    <tr>
                        <td>
                            <p
                                (click)="viewPlotsSpatially(plot)"
                                class="text-blue-500 hover:underline cursor-pointer"
                            >
                                {{ plot.plotId }}
                            </p>
                        </td>
                        <td>{{ plot.plotCategory }}</td>
                        <td>{{ plot.netArea }} {{ plot.areaUnit }}</td>

                        <td>{{ plot.lapName }}/ {{ plot.lapCode }}</td>

                        <td>
                            {{ plot.precinctName }} /{{ plot.precinctCode }}
                        </td>

                        <td>
                            <div>
                                <p *ngIf="!plot.buildings.length">
                                    No Buildings Added
                                </p>
                                <p
                                    *ngFor="let building of plot.buildings"
                                    class="cursor-pointer font-semibold hover:underline"
                                    (click)="navigateToBuilding(building.id)"
                                >
                                    - {{ building.name }}
                                </p>
                            </div>
                        </td>
                        <td></td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
