<div class="flex justify-content-between my-4">
    <p class="text-xl font-semibold">Pending Advices for {{ building.name }}</p>
    <div class="flex gap-2" *ngIf="pendingPaymentAdvices?.length">
        <p-button
            label="Download Excel"
            icon="pi pi-file-excel"
            size="small"
        ></p-button>
    </div>
</div>

<p-table
    *ngIf="pendingPaymentAdvices?.length"
    [value]="pendingPaymentAdvices"
    styleClass="p-datatable-striped"
>
    <ng-template pTemplate="header">
        <tr>
            <th>Ref</th>
            <th>Status</th>
            <th>Title</th>
            <th>Total Amount</th>
            <th>Payer</th>

            <th>Flat Details</th>

            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr>
            <td>
                <p>#{{ item.id }}</p>
            </td>
            <td>
                <p class="text-red-400 font-semibold">
                    {{ item.status }}
                </p>
            </td>
            <td>
                <p>{{ item.title }}</p>
            </td>

            <td>Nu. {{ item.totalAmount }}</td>

            <td>
                <p>
                    Name:{{ item.tenant?.firstName }}
                    {{ item.tenant?.middleName }}
                    {{ item.tenant?.lastName }}
                </p>
                <p>Phone: {{ item.tenant?.phoneNumber }}</p>
            </td>
            <td>{{ item.unit?.floorLevel }}-{{ item.unit?.unitNumber }}</td>
            <td>
                <p-button
                    size="small"
                    label="Payment Advice"
                    icon="pi pi-file-o"
                    severity="secondary"
                ></p-button>
            </td>
        </tr>
    </ng-template>
</p-table>

<p *ngIf="!pendingPaymentAdvices?.length">No Pending Payment Advices</p>
